{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.elements.message;\nconst email = form.elements.email;\n\nfunction onFormInput(evt) {\n  const formInput = {\n    email: evt.currentTarget.elements.email.value.trim(),\n    message: evt.currentTarget.elements.message.value.trim(),\n  };\n\n  saveData(STORAGE_KEY, formInput);\n}\n\nfunction savedFormText() {\n  try {\n    const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n    textarea.value = savedData.message || '';\n    email.value = savedData.email || '';\n  } catch (error) {\n    console.error('Error while parsing saved data:', error);\n  }\n}\n\nfunction saveData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const emailValue = event.currentTarget.elements.email.value.trim();\n  const textValue = event.currentTarget.elements.message.value.trim();\n\n  if (emailValue === '' || textValue === '') {\n    alert('Please fill in all the fields!');\n    return;\n  }\n\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\ndocument.addEventListener('DOMContentLoaded', savedFormText);\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', onFormInput);\n"],"names":["STORAGE_KEY","form","textarea","email","onFormInput","evt","formInput","saveData","savedFormText","savedData","error","key","data","onFormSubmit","event","emailValue","textValue"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,SAAS,QACzBE,EAAQF,EAAK,SAAS,MAE5B,SAASG,EAAYC,EAAK,CACxB,MAAMC,EAAY,CAChB,MAAOD,EAAI,cAAc,SAAS,MAAM,MAAM,KAAM,EACpD,QAASA,EAAI,cAAc,SAAS,QAAQ,MAAM,KAAM,CAC5D,EAEEE,EAASP,EAAaM,CAAS,CACjC,CAEA,SAASE,GAAgB,CACvB,GAAI,CACF,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQT,CAAW,CAAC,GAAK,GACnEE,EAAS,MAAQO,EAAU,SAAW,GACtCN,EAAM,MAAQM,EAAU,OAAS,EAClC,OAAQC,EAAP,CACA,QAAQ,MAAM,kCAAmCA,CAAK,CACvD,CACH,CAEA,SAASH,EAASI,EAAKC,EAAM,CAC3B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OACtDE,EAAYF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE7D,GAAIC,IAAe,IAAMC,IAAc,GAAI,CACzC,MAAM,gCAAgC,EACtC,MACD,CAED,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQhB,CAAW,CAAC,CAAC,EACzD,aAAa,WAAWA,CAAW,EACnCc,EAAM,cAAc,OACtB,CAEA,SAAS,iBAAiB,mBAAoBN,CAAa,EAE3DP,EAAK,iBAAiB,SAAUY,CAAY,EAC5CZ,EAAK,iBAAiB,QAASG,CAAW"}